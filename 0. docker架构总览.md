Docker采用传统的client-server架构模式，如下图。用户通过Docker client与Docker daemon建立通信。

![总体架构](https://github.com/WhiteGoing/picture/blob/master/Screenshot%20from%202017-10-12%2010-18-28.png)

由上图可以看出，Docker daemon是Docker 架构中的主要接口。它提供APIserver用于接受来自Docker client的请求，然后根据不同的请求分发给Docker daemon的不同模块执行相应工作。

Docker通过driver模块来实现对Docker模块执行环境的定制。当需要创建Docker 容器时可从Docker registry中下载镜像，并通过镜像驱动graphdriver将下载的镜像以graph的形式存储在本地；当需要相纸Docker容器运行资源或执行用户指令等操作时，则通过execdriver来完成。libcontainer是一个独立的容器管理包，networkdriver和execdriver都通过libcontainer来实现对容器的操作，包括namespace实现容器间的资源隔离和利用cgroup实现对容器的资源限制。当容器的命令执行完毕，一个拥有独立的文件系统、安全且相互隔离的运行环境的容器就处于运行状态。

下表是对各部分的详细介绍：

|      模块名      |                   功能介绍                   |
| :-----------: | :--------------------------------------: |
| Docker daemon | Docker最核心的后台进程，负责响应来自Docker client的请求（启动API server），接收到的请求再由具体的函数来执行 |
| Docker client | 指任何可以向指定Docker　daemon发起请求的客户端，可以是Docker cli,也可以是任何遵循Docker API的客户端。 |
|     graph     | 负责维护已下载的镜像信息以及它们之间的关系，所有大部分Docker镜像的操作会由graph组件来完成。常常出现性能瓶颈 |
|               |                                          |

